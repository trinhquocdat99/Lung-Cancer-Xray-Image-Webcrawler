(this["webpackJsonplung-xray-web-crawler"]=this["webpackJsonplung-xray-web-crawler"]||[]).push([[0],{113:function(e,t,n){},114:function(e,t,n){},154:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),i=n.n(r),c=n(9),o=n.n(c),s=(n(113),n(48)),l=n(46),u=n(11),d=(n(114),n(19)),m=n.n(d),j=n(32),b=n(12),p=n(190),h=n.p+"static/media/Flat-Mountains.946aeae8.svg",x=Object(p.a)((function(e){return{root:{},background:{opacity:"0.5",zIndex:"-1",backgroundImage:"url(".concat(h,")"),position:"absolute",width:"100%",height:"83.5%",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},title:{fontSize:"2rem !important",marginTop:"2em !important",textAlign:"center !important",fontWeight:"bold !important"},searchContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"15em"},search:{width:"35em",height:"6em"},webIcon:{marginRight:"0.5em"},fabIcon:{bottom:"105px",left:"30px",position:"absolute !important"},fabIcon2:{bottom:"30px",left:"30px",position:"absolute !important"},buttonSpan:{display:"flex"},resultsContainer:{padding:"2em",paddingTop:"1em"},"@global .MuiInputBase-root.MuiFilledInput-root.MuiFilledInput-underline.MuiInputBase-formControl.MuiInputBase-adornedStart.MuiFilledInput-adornedStart":{height:"5em !important"},"@global #ballsContainer div":{width:"1.5em !important",height:"1.5em !important",fill:"".concat(e.palette.primary.main," !important"),opacity:"0.5",display:"inline-block !important",marginRight:"0.5em"},"@global .fileContainer":{boxShadow:"none !important"}}})),g=Object(p.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},removeDefaultLink:{textDecoration:"none !important",color:"inherit !important"}}})),f=n(193),O=n(195),v=n(67),y=n(47),w=n.n(y),C=n(196),N=function(){var e=g();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(f.a,{position:"static",children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(l.b,{to:"/",className:e.removeDefaultLink,children:Object(a.jsx)(C.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(a.jsx)(w.a,{})})}),Object(a.jsx)(v.a,{variant:"h6",className:e.title,children:Object(a.jsx)(l.b,{to:"/",className:e.removeDefaultLink,children:"Web Crawler"})})]})})})},S=n(208),k=n(206),I=n(61),_=n.n(I),T=n(197),z=n(55),F=n.n(z),M=n(198),D=n(93),B=n.n(D),L=n(56),R=n.n(L),P=Object(p.a)((function(e){return{root:{},img:{width:"7em"},imageContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"15em"},imgName:{fontSize:"0.85rem",maxWidth:"15em"},grid:{maxHeight:"34em",overflowY:"auto"},fabIcon:{bottom:"30px",right:"30px",position:"absolute !important",fontSize:"0.75rem",padding:"1.75em !important"},buttonSpan:{display:"flex"},errorContainer:{display:"flex",width:"100%",height:"20em",justifyContent:"center",alignItems:"center",flexDirection:"column"},title:{fontSize:"1.5rem !important",textAlign:"center !important",fontWeight:"bold !important"},title2:{fontSize:"1.5rem !important",marginTop:"2em !important",textAlign:"center !important",fontWeight:"bold !important"},fabIcon2:{bottom:"30px",left:"30px",position:"absolute !important"},statText:{fontSize:"0.85rem !important",fontWeight:"bold"},stats:{marginBottom:"1em"}}})),A=n(88),E=n.n(A),U=n(199),W=n(66),G=n.n(W),H=n(65),K=n.n(H),X=n(89),J=n.n(X),Y=n(90),Z=n.p+"static/media/mat.5b7a6d62.svg",q=new K.a,V=function(e){return new Promise((function(t,n){var a=new XMLHttpRequest;a.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(a.response)},a.open("GET","".concat("https://shrouded-mesa-22875.herokuapp.com/").concat(e)),a.responseType="blob",a.send()}))},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,a=t<0?0:t,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,i)).toFixed(a))+" "+r[i]},$=function(e){var t=e.classes,n=e.image,i=e.isCustom,c=e.handleDownload,o=Object(r.useState)(!1),s=Object(b.a)(o,2),l=s[0],u=s[1];return Object(a.jsxs)("div",{className:t.imageContainer,onMouseLeave:function(){return u(!1)},onMouseEnter:function(){return u(!0)},children:[Object(a.jsx)(E.a,{children:Object(a.jsx)("img",{src:i?Z:n.url,alt:n.name,className:t.img})}),Object(a.jsx)(v.a,{variant:"subtitle2",className:t.imgName,children:n.name}),Object(a.jsxs)(v.a,{variant:"subtitle2",className:t.imgName,children:["File Size: ",Q(n.size)]}),l&&Object(a.jsx)("div",{style:{marginTop:"0.5em"},children:Object(a.jsxs)(T.a,{color:"primary",variant:"contained",size:"small",onClick:function(){return c(n)},children:[Object(a.jsx)(G.a,{style:{marginRight:"0.5em",width:"0.75em"}}),"Download"]})})]})},ee=function e(t,n,a){var r=n||new K.a,i=a||0;return console.log(t),function(e,t,n){return new Promise((function(a,r){J.a.getBinaryContent(t,(function(t,i){t&&(console.log(t),r(t)),console.log(n,i),e.file(n,i,{binary:!0}),a(i)}))}))}(r,t[i].blobUrl,t[i].name).then((function(n){return++i===t.length?r:e(t,r,i)}))},te=function(e){return console.log(e),e.generateAsync({type:"blob"})},ne=function(e){return Object(Y.saveAs)(e,"lung_xray_files.zip")},ae=function(e){var t=e.match(/(jpg|jpeg|png)/);return!(!t||!t.length)},re=function(e){return void 0!==e},ie=Object(r.memo)((function(e){var t=e.imageData,n=e.setShowResults,i=e.custom,c=e.stats,o=e.error,s=void 0!==o&&o,l=e.errorMsg,u=void 0===l?"":l,d=P(),p=Object(r.useState)(!1),h=Object(b.a)(p,2),x=h[0],g=h[1],f=Object(r.useState)(!1),O=Object(b.a)(f,2),y=O[0],w=O[1],C=function(){var e=Object(j.a)(m.a.mark((function e(){var t,n,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:null,g(!0),e.next=4,[t[0]].map(function(){var e=Object(j.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ae(t.url)){e.next=6;break}return e.next=3,V(t.url);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=t.url;case 7:return e.t1=e.t0,e.t2=t.name,e.abrupt("return",{blobUrl:e.t1,name:e.t2});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:n=e.sent,Promise.all(n).then((function(e){ee(e,q,null).then(te).then(ne).then((function(){return g(!1)}))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ae(t.url)){e.next=6;break}return e.next=3,V(t.url);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=t.url;case 7:n=e.t0,(a=document.createElement("a")).href=n,a.setAttribute("download",t.name),r=function e(){setTimeout((function(){URL.revokeObjectURL(n),a.removeEventListener("click",e)}),150)},a.addEventListener("click",r,!1),a.click();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:d.root,children:[s&&Object(a.jsx)(M.a,{color:"primary","aria-label":"add",className:d.fabIcon2,onClick:function(){return n(!1)},children:Object(a.jsx)(R.a,{})}),!s&&Object(a.jsx)(M.a,{color:"primary",size:"small",variant:"extended","aria-label":"add",className:d.fabIcon,onClick:function(){return C(t)},disabled:x,children:x?Object(a.jsxs)("span",{id:"ballsContainer",className:d.buttonSpan,children:[Object(a.jsx)(F.a,{type:"balls"}),"Downloading and Zipping Files"]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(G.a,{style:{marginRight:"0.5em",width:"0.75em"}}),"Download All"]})}),Object(a.jsx)(T.a,{color:"primary",variant:"outlined",size:"small",onClick:function(){return w((function(e){return!e}))},children:y?"Hide Stats":"Show Stats"}),!s&&y&&Object(a.jsxs)("div",{className:d.stats,children:[re(c.total_file_size)&&Object(a.jsxs)(v.a,{variant:"h6",className:d.statText,color:"primary",children:[Object(a.jsx)("span",{children:"Total downloadable file size: "}),Object(a.jsx)("span",{children:Q(c.total_file_size)})]}),re(c.model)&&Object(a.jsxs)(v.a,{variant:"h6",className:d.statText,color:"primary",children:[Object(a.jsx)("span",{children:"Model used: "}),Object(a.jsx)("span",{children:c.model.model_name})]}),re(c.model)&&Object(a.jsxs)(v.a,{variant:"h6",className:d.statText,color:"primary",children:[Object(a.jsx)("span",{children:"Model Accuracy: "}),Object(a.jsx)("span",{children:c.model.accuracy})]}),re(c.full_load_time)&&Object(a.jsxs)(v.a,{variant:"h6",className:d.statText,color:"primary",children:[Object(a.jsx)("span",{children:"Page Load Up Time: "}),Object(a.jsxs)("span",{children:[c.full_load_time.toFixed(4),"s"]})]}),re(c.image_processing_time)&&Object(a.jsxs)(v.a,{variant:"h6",className:d.statText,color:"primary",children:[Object(a.jsxs)("span",{children:["Images: ",c.no_of_images]}),Object(a.jsxs)("span",{children:["  --- Process Time: ",c.image_processing_time.toFixed(4),"s"]})]}),re(c.links_processing_time)&&Object(a.jsxs)(v.a,{variant:"h6",className:d.statText,color:"primary",children:[Object(a.jsxs)("span",{children:["Links: ",c.no_of_links]}),Object(a.jsxs)("span",{children:[" --- Process Time: ",c.links_processing_time.toFixed(4),"s"]})]}),re(c.sources_processing_time)&&Object(a.jsxs)(v.a,{variant:"h6",className:d.statText,color:"primary",children:[Object(a.jsxs)("span",{children:["Sources: ",c.no_of_sources]}),Object(a.jsxs)("span",{children:[" ---  Process Time: ",c.sources_processing_time.toFixed(4),"s"]})]})]}),Object(a.jsxs)(U.a,{container:!0,spacing:2,alignItems:"center",className:d.grid,id:"gridContainer",children:[!s&&null!==t&&t.map((function(e,t){return Object(a.jsx)(U.a,{item:!0,xs:6,md:4,lg:4,className:d.gridItem,children:Object(a.jsx)($,{classes:d,image:e,isCustom:i,handleDownload:N})},t)})),s&&Object(a.jsxs)("div",{className:d.errorContainer,children:[Object(a.jsx)(v.a,{variant:"h6",color:"primary",className:d.title,children:":("}),Object(a.jsx)(v.a,{variant:"h6",color:"primary",className:d.title2,children:u})]})]})]})})),ce=n(57),oe=n.n(ce),se=n(210),le=n(211),ue=n(203),de=n(207),me=n(200),je=n(202),be=n(204),pe=n(91),he=n.n(pe),xe=Object(p.a)((function(e){return{root:{},errorContainer:{display:"flex",width:"100%",height:"20em",justifyContent:"center",alignItems:"center",flexDirection:"column"},resultContainer:{display:"flex",width:"100%",height:"7.5em",justifyContent:"center",alignItems:"center",flexDirection:"column"},title:{fontSize:"1.25rem !important",textAlign:"center !important",fontWeight:"bold !important"},title2:{fontSize:"1.25rem !important",marginTop:"0.5em !important",textAlign:"center !important",fontWeight:"bold !important"},"@global #classifyImage":{color:"".concat(e.palette.primary.main," !important"),fontWeight:"bold !important"}}})),ge=i.a.forwardRef((function(e,t){return Object(a.jsx)(me.a,Object(s.a)({direction:"up",ref:t},e))})),fe=function(e){var t=e.open,n=e.handleClose,i=xe(),c=Object(r.useState)(""),o=Object(b.a)(c,2),s=o[0],l=o[1],u=Object(r.useState)(""),d=Object(b.a)(u,2),p=d[0],h=d[1],x=Object(r.useState)(null),g=Object(b.a)(x,2),f=g[0],O=g[1],y=Object(r.useState)(!0),w=Object(b.a)(y,2),N=w[0],I=w[1],z=Object(r.useState)(!1),F=Object(b.a)(z,2),M=F[0],D=F[1],B=Object(r.useState)(!1),L=Object(b.a)(B,2),R=L[0],P=L[1],A=function(){var e=Object(j.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.length>0||p.length>0)){e.next=6;break}return D(!0),t={url:N?p:Oe(s)},e.next=5,oe.a.post("".concat("http://127.0.0.1:5000","/xray_image_classification_model"),t).then((function(e){e.data.success?(O(e.data.prediction),P(!1)):(O(null),P(!0))})).catch((function(e){console.log(e),O(null),P(!0)}));case 5:D(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(le.a,{open:t,TransitionComponent:ge,keepMounted:!1,onClose:n,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(a.jsx)(je.a,{id:"classifyImage",children:"Classify Image"}),Object(a.jsxs)(ue.a,{children:[Object(a.jsx)(be.a,{id:"alert-dialog-slide-description",style:{marginBottom:"1.5em"},children:Object(a.jsx)(T.a,{color:"primary",variant:"outlined",size:"small",onClick:function(){I((function(e){return!e})),P(!1)},children:N?"Enter Image url":"Upload Image"})}),!R&&!N&&Object(a.jsx)(S.a,{label:"Enter Image URL",placeholder:"https://cdn.pixabay.com/photo/2016/06/24/03/53/diagnosis-1476620_1280.jpg",value:s,onChange:function(e){return l(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),A())},disabled:M,fullWidth:!0,InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:Object(a.jsx)(C.a,{className:i.webIcon,"aria-label":"web icon",edge:"end",children:Object(a.jsx)(_.a,{})})})}}),!R&&N&&Object(a.jsx)(he.a,{withIcon:!0,withPreview:!0,buttonText:"Upload Image",onChange:function(e,t){0!==t.length&&h(t[0].replace(/(?<=name=)(.*)(?=;)/g,"").replace("name=;",""))},imgExtension:[".jpg",".png",".jpeg"],maxFileSize:52428800,singleImage:!0}),R&&Object(a.jsxs)("div",{className:i.errorContainer,children:[Object(a.jsx)(v.a,{variant:"h6",color:"primary",className:i.title,children:":("}),Object(a.jsx)(v.a,{variant:"h6",color:"primary",className:i.title2,children:"Something Went Wrong"})]}),null!==f&&Object(a.jsxs)("div",{className:i.resultContainer,children:[Object(a.jsx)(v.a,{variant:"h6",color:"primary",className:i.title,children:f.prediction?"Image is an Xray":"Image is not an xray"}),Object(a.jsxs)(v.a,{variant:"h6",color:"primary",className:i.title2,children:["Confidence: ",parseFloat(f.probability).toFixed(4)]})]})]}),Object(a.jsxs)(de.a,{children:[Object(a.jsx)(T.a,{onClick:n,color:"primary",children:"Cancel"}),Object(a.jsx)(T.a,{onClick:function(){return A()},color:"primary",variant:"contained",disabled:M,children:"Classify"})]})]})},Oe=function(e){return e.includes("http")?e:"https://".concat(e)},ve=function(e){var t=x(),n=Object(r.useState)(""),i=Object(b.a)(n,2),c=i[0],o=i[1],s=Object(r.useState)(!1),l=Object(b.a)(s,2),u=l[0],d=l[1],p=Object(r.useState)(!1),h=Object(b.a)(p,2),g=h[0],f=h[1],O=Object(r.useState)(null),y=Object(b.a)(O,2),I=y[0],z=y[1],D=Object(r.useState)(null),L=Object(b.a)(D,2),P=L[0],A=L[1],E=Object(r.useState)(!1),U=Object(b.a)(E,2),W=U[0],G=U[1],H=Object(r.useState)(!1),K=Object(b.a)(H,2),X=K[0],J=K[1],Y=Object(r.useState)(!1),Z=Object(b.a)(Y,2),q=Z[0],V=Z[1],Q=Object(r.useState)(""),$=Object(b.a)(Q,2),ee=$[0],te=$[1],ne=function(){var e=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c.length>0)){e.next=6;break}return f(!0),e.next=4,oe.a.post("".concat("http://127.0.0.1:5000","/scrape"),{url:Oe(c)}).then((function(e){e.data.success?e.data.output.length>0&&(z(e.data.output),A(e.data.stats),te(""),G(e.data.custom),V(!1)):"NO_IMAGES_FOUND"===e.data.output?(z([]),A(null),G(!1),V(!0),te("Could not find any xray lung cancer images!")):"INVALID_URL"===e.data.output&&(A(null),G(!1),z([]),V(!0),te("Url is invalid!"))})).catch((function(e){console.log(e),z([]),A(null),V(!0),te("Something went wrong!")}));case 4:d(!0),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:t.background}),Object(a.jsx)(v.a,{variant:"h6",color:"primary",className:t.title,children:"Crawl X-ray lung cancer image given any URL"}),Object(a.jsxs)("div",{className:t.searchContainer,children:[Object(a.jsx)(S.a,{className:t.search,value:c,onChange:function(e){return o(e.target.value)},id:"filled-helperText",label:"Enter any web URL",placeholder:"https://google.com",variant:"filled",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),ne())},disabled:g,InputProps:{startAdornment:Object(a.jsx)(k.a,{position:"start",children:Object(a.jsx)(C.a,{className:t.webIcon,"aria-label":"web icon",edge:"end",children:Object(a.jsx)(_.a,{})})})}}),Object(a.jsx)(T.a,{variant:"contained",color:"primary",size:"large",onClick:ne,disabled:g,children:g?Object(a.jsxs)("span",{id:"ballsContainer",className:t.buttonSpan,children:[Object(a.jsx)(F.a,{type:"balls"}),"Crawling"]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w.a,{style:{marginRight:"0.5em"}}),"Crawl"]})})]})]}),re=Object(a.jsx)("div",{className:t.resultsContainer,children:Object(a.jsx)(ie,{imageData:I,error:q,errorMsg:ee,stats:P,custom:W,setShowResults:d})});return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(N,{}),Object(a.jsx)(se.a,{title:"Test ML model",placement:"right",children:Object(a.jsx)(M.a,{color:"primary","aria-label":"add",className:t.fabIcon2,onClick:function(){return J(!0)},children:Object(a.jsx)(w.a,{})})}),!q&&null!==I&&Object(a.jsx)(se.a,{title:u?"Go Back":"See Results",placement:"right",children:Object(a.jsx)(M.a,{color:"primary","aria-label":"add",className:t.fabIcon,onClick:function(){return d((function(e){return!e}))},children:u?Object(a.jsx)(R.a,{}):Object(a.jsx)(B.a,{})})}),u?re:ae,Object(a.jsx)(fe,{open:X,handleClose:function(){return J(!1)}})]})},ye=n.p+"static/media/error404.f8621d36.png",we=Object(p.a)((function(e){return{root:{width:"100%",height:"100%",background:"url(".concat(ye,") center no-repeat #fff"),position:"fixed",left:"0px",top:"0px",zIndex:999}}})),Ce=function(){var e=we();return Object(a.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(a.jsx)("div",{className:e.root})})},Ne=function(){return Object(a.jsx)(l.a,{children:Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{exact:!0,path:"/",render:function(e){return Object(a.jsx)(ve,Object(s.a)({},e))}}),Object(a.jsx)(u.a,{render:function(e){return Object(a.jsx)(Ce,Object(s.a)({},e))}})]})})},Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,212)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(Ne,{})}),document.getElementById("root")),Se()}},[[154,1,2]]]);
//# sourceMappingURL=main.b7554157.chunk.js.map